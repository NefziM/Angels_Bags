{"ast":null,"code":"var _jsxFileName = \"C:\\\\M2PDAM\\\\marketing digital\\\\Angels_Bags\\\\client\\\\src\\\\components\\\\AuthRedirect.tsx\",\n  _s = $RefreshSig$();\n// src/components/AuthRedirect.tsx\nimport React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useUser } from '@clerk/clerk-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthRedirect = () => {\n  _s();\n  const {\n    user,\n    isSignedIn,\n    isLoaded\n  } = useUser();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (isLoaded && isSignedIn) {\n      var _user$publicMetadata;\n      // Rediriger vers /admin si l'utilisateur est admin\n      if ((user === null || user === void 0 ? void 0 : (_user$publicMetadata = user.publicMetadata) === null || _user$publicMetadata === void 0 ? void 0 : _user$publicMetadata.role) === 'admin') {\n        navigate('/admin', {\n          replace: true\n        });\n      } else {\n        navigate('/', {\n          replace: true\n        });\n      }\n    }\n  }, [user, isSignedIn, isLoaded, navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthRedirect, \"pU4rMITFr6grCcGjWN9W2qlYoW4=\", false, function () {\n  return [useUser, useNavigate];\n});\n_c = AuthRedirect;\nexport default AuthRedirect;\nvar _c;\n$RefreshReg$(_c, \"AuthRedirect\");","map":{"version":3,"names":["React","useEffect","useNavigate","useUser","jsxDEV","_jsxDEV","AuthRedirect","_s","user","isSignedIn","isLoaded","navigate","_user$publicMetadata","publicMetadata","role","replace","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/M2PDAM/marketing digital/Angels_Bags/client/src/components/AuthRedirect.tsx"],"sourcesContent":["// src/components/AuthRedirect.tsx\r\nimport React, { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useUser } from '@clerk/clerk-react';\r\n\r\nconst AuthRedirect: React.FC = () => {\r\n  const { user, isSignedIn, isLoaded } = useUser();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (isLoaded && isSignedIn) {\r\n      // Rediriger vers /admin si l'utilisateur est admin\r\n      if (user?.publicMetadata?.role === 'admin') {\r\n        navigate('/admin', { replace: true });\r\n      } else {\r\n        navigate('/', { replace: true });\r\n      }\r\n    }\r\n  }, [user, isSignedIn, isLoaded, navigate]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center\">\r\n      <div className=\"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthRedirect;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7C,MAAMC,YAAsB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnC,MAAM;IAAEC,IAAI;IAAEC,UAAU;IAAEC;EAAS,CAAC,GAAGP,OAAO,CAAC,CAAC;EAChD,MAAMQ,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd,IAAIS,QAAQ,IAAID,UAAU,EAAE;MAAA,IAAAG,oBAAA;MAC1B;MACA,IAAI,CAAAJ,IAAI,aAAJA,IAAI,wBAAAI,oBAAA,GAAJJ,IAAI,CAAEK,cAAc,cAAAD,oBAAA,uBAApBA,oBAAA,CAAsBE,IAAI,MAAK,OAAO,EAAE;QAC1CH,QAAQ,CAAC,QAAQ,EAAE;UAAEI,OAAO,EAAE;QAAK,CAAC,CAAC;MACvC,CAAC,MAAM;QACLJ,QAAQ,CAAC,GAAG,EAAE;UAAEI,OAAO,EAAE;QAAK,CAAC,CAAC;MAClC;IACF;EACF,CAAC,EAAE,CAACP,IAAI,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,QAAQ,CAAC,CAAC;EAE1C,oBACEN,OAAA;IAAKW,SAAS,EAAC,+CAA+C;IAAAC,QAAA,eAC5DZ,OAAA;MAAKW,SAAS,EAAC;IAAmF;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACtG,CAAC;AAEV,CAAC;AAACd,EAAA,CApBID,YAAsB;EAAA,QACaH,OAAO,EAC7BD,WAAW;AAAA;AAAAoB,EAAA,GAFxBhB,YAAsB;AAsB5B,eAAeA,YAAY;AAAC,IAAAgB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}