{"ast":null,"code":"const API_BASE_URL=process.env.REACT_APP_API_URL||'https://angels-bags-7c1t.onrender.com/api';export const apiService={// Catégories\nasync getCategories(){const response=await fetch(\"\".concat(API_BASE_URL,\"/categories\"));if(!response.ok){const errorText=await response.text();throw new Error(\"Erreur lors du chargement des cat\\xE9gories: \".concat(response.status,\" - \").concat(errorText));}return response.json();},// Produits\nasync getProducts(){const response=await fetch(\"\".concat(API_BASE_URL,\"/products\"));if(!response.ok){const errorText=await response.text();throw new Error(\"Erreur lors du chargement des produits: \".concat(response.status,\" - \").concat(errorText));}return response.json();},// Produit par ID\nasync getProductById(id){const response=await fetch(\"\".concat(API_BASE_URL,\"/products/\").concat(id));if(!response.ok){const errorText=await response.text();throw new Error(\"Produit non trouv\\xE9: \".concat(response.status,\" - \").concat(errorText));}return response.json();},// Catégorie par slug\nasync getCategoryBySlug(slug){try{const response=await fetch(\"\".concat(API_BASE_URL,\"/categories/slug/\").concat(slug));if(!response.ok){throw new Error(\"Cat\\xE9gorie \\\"\".concat(slug,\"\\\" non trouv\\xE9e\"));}const data=await response.json();// Retourne { category, products }\nreturn data;}catch(error){console.error(\"Erreur lors du chargement de la cat\\xE9gorie \".concat(slug,\":\"),error);throw error;}},// Produits par catégorie\nasync getProductsByCategory(categoryId){const response=await fetch(\"\".concat(API_BASE_URL,\"/products?category=\").concat(categoryId));if(!response.ok){const errorText=await response.text();throw new Error(\"Erreur produits par cat\\xE9gorie: \".concat(response.status,\" - \").concat(errorText));}return response.json();}};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","apiService","getCategories","response","fetch","concat","ok","errorText","text","Error","status","json","getProducts","getProductById","id","getCategoryBySlug","slug","data","error","console","getProductsByCategory","categoryId"],"sources":["C:/M2PDAM/marketing digital/Angels_Bags/client/src/services/apiService.ts"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_URL || 'https://angels-bags-7c1t.onrender.com/api';\r\n\r\nexport const apiService = {\r\n  // Catégories\r\n  async getCategories() {\r\n    const response = await fetch(`${API_BASE_URL}/categories`);\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      throw new Error(`Erreur lors du chargement des catégories: ${response.status} - ${errorText}`);\r\n    }\r\n    return response.json();\r\n  },\r\n\r\n  // Produits\r\n  async getProducts() {\r\n    const response = await fetch(`${API_BASE_URL}/products`);\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      throw new Error(`Erreur lors du chargement des produits: ${response.status} - ${errorText}`);\r\n    }\r\n    return response.json();\r\n  },\r\n\r\n  // Produit par ID\r\n  async getProductById(id: string) {\r\n    const response = await fetch(`${API_BASE_URL}/products/${id}`);\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      throw new Error(`Produit non trouvé: ${response.status} - ${errorText}`);\r\n    }\r\n    return response.json();\r\n  },\r\n\r\n  // Catégorie par slug\r\n   async getCategoryBySlug(slug : string) {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/categories/slug/${slug}`);\r\n      if (!response.ok) {\r\n        throw new Error(`Catégorie \"${slug}\" non trouvée`);\r\n      }\r\n      const data = await response.json();\r\n      // Retourne { category, products }\r\n      return data;\r\n    } catch (error) {\r\n      console.error(`Erreur lors du chargement de la catégorie ${slug}:`, error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Produits par catégorie\r\n  async getProductsByCategory(categoryId: string) {\r\n    const response = await fetch(`${API_BASE_URL}/products?category=${categoryId}`);\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      throw new Error(`Erreur produits par catégorie: ${response.status} - ${errorText}`);\r\n    }\r\n    return response.json();\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}