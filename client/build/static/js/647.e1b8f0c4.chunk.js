"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[647],{647:(e,s,a)=>{a.r(s),a.d(s,{default:()=>i});var l=a(555),n=a(43),r=a(697),t=a(169),o=a(579);const i=()=>{const{cart:e,getCartTotal:s,clearCart:a}=(0,t._)(),i=(0,r.Zp)(),[d,c]=(0,n.useState)("delivery"),[m,x]=(0,n.useState)("whatsapp"),[h,p]=(0,n.useState)({fullName:"",phone:"",email:"",address:"",city:"",postalCode:"",notes:""}),g="delivery"===d?7:0,u=s()+g,b=e=>{p((0,l.A)((0,l.A)({},h),{},{[e.target.name]:e.target.value}))},v=()=>{let a="\ud83d\udecd\ufe0f *NOUVELLE COMMANDE - Angel's Bags*\n\n";return a+="\ud83d\udc64 *Client:* ".concat(h.fullName,"\n"),a+="\ud83d\udcf1 *T\xe9l\xe9phone:* ".concat(h.phone,"\n"),a+="\ud83d\udce7 *Email:* ".concat(h.email,"\n\n"),a+="\ud83d\udce6 *Mode de livraison:* ".concat("delivery"===d?"Livraison \xe0 domicile":"Retrait en magasin","\n"),"delivery"===d&&(a+="\ud83d\udccd *Adresse:* ".concat(h.address,"\n"),a+="\ud83c\udfd9\ufe0f *Ville:* ".concat(h.city,"\n"),a+="\ud83d\udcee *Code postal:* ".concat(h.postalCode,"\n")),a+="\n\ud83d\udcb3 *Mode de paiement:* ",a+="whatsapp"===m?"Confirmation par WhatsApp":"online"===m?"Paiement en ligne":"Paiement \xe0 la livraison",a+="\n\n\ud83d\uded2 *PRODUITS:*\n",e.items.forEach((e,s)=>{a+="\n".concat(s+1,". *").concat(e.product.name,"*\n"),a+="   Quantit\xe9: ".concat(e.quantity,"\n"),a+="   Prix unitaire: ".concat(e.product.price," TND\n"),e.selectedColor&&(a+="   Couleur: ".concat(e.selectedColor,"\n")),e.selectedSize&&(a+="   Taille: ".concat(e.selectedSize,"\n")),e.personalization&&(a+='   Personnalisation: "'.concat(e.personalization,'"\n')),a+="   Sous-total: ".concat((e.product.price*e.quantity).toFixed(2)," TND\n")}),a+="\n\ud83d\udcb0 *TOTAL:*\n",a+="Sous-total: ".concat(s().toFixed(2)," TND\n"),a+="Frais de livraison: ".concat(g.toFixed(2)," TND\n"),a+="*TOTAL \xc0 PAYER: ".concat(u.toFixed(2)," TND*\n"),h.notes&&(a+="\n\ud83d\udcdd *Notes:* ".concat(h.notes,"\n")),encodeURIComponent(a)};return 0===e.items.length?(i("/cart"),null):(0,o.jsx)("div",{className:"min-h-screen bg-angel-background py-8",children:(0,o.jsxs)("div",{className:"container mx-auto px-4",children:[(0,o.jsx)("h1",{className:"font-tan-pearl text-4xl text-primary mb-8",children:"Finaliser la commande"}),(0,o.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),h.fullName&&h.phone)if("delivery"!==d||h.address&&h.city)if("whatsapp"===m){const e="21646535386",s=v();window.open("https://wa.me/".concat(e,"?text=").concat(s),"_blank"),setTimeout(()=>{a(),i("/order-success")},2e3)}else if("online"===m)alert("Le paiement en ligne sera disponible prochainement !");else{const e=v(),s="21646535386";window.open("https://wa.me/".concat(s,"?text=").concat(e),"_blank"),setTimeout(()=>{a(),i("/order-success")},2e3)}else alert("Veuillez remplir l'adresse de livraison");else alert("Veuillez remplir les champs obligatoires")},className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,o.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,o.jsxs)("div",{className:"bg-angel-card rounded-2xl shadow-sm p-6 border border-angel-border",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Informations personnelles"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-semibold text-primary mb-2",children:["Nom complet ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("input",{type:"text",name:"fullName",value:h.fullName,onChange:b,className:"w-full px-4 py-3 border border-angel-border rounded-xl focus:outline-none focus:ring-2 focus:ring-angel-gold",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-semibold text-primary mb-2",children:["T\xe9l\xe9phone ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("input",{type:"tel",name:"phone",value:h.phone,onChange:b,className:"w-full px-4 py-3 border border-angel-border rounded-xl focus:outline-none focus:ring-2 focus:ring-angel-gold",required:!0})]}),(0,o.jsxs)("div",{className:"md:col-span-2",children:[(0,o.jsx)("label",{className:"block text-sm font-semibold text-primary mb-2",children:"Email"}),(0,o.jsx)("input",{type:"email",name:"email",value:h.email,onChange:b,className:"w-full px-4 py-3 border border-angel-border rounded-xl focus:outline-none focus:ring-2 focus:ring-angel-gold"})]})]})]}),(0,o.jsxs)("div",{className:"bg-angel-card rounded-2xl shadow-sm p-6 border border-angel-border",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Mode de livraison"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsx)("button",{type:"button",onClick:()=>c("delivery"),className:"p-4 border-2 rounded-xl transition-all ".concat("delivery"===d?"border-angel-gold bg-angel-pink":"border-angel-border hover:border-angel-gold"),children:(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("svg",{className:"w-6 h-6 text-angel-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,o.jsxs)("div",{className:"text-left",children:[(0,o.jsx)("div",{className:"font-semibold text-primary",children:"Livraison \xe0 domicile"}),(0,o.jsx)("div",{className:"text-sm text-angel-dark",children:"7 TND"})]})]})}),(0,o.jsx)("button",{type:"button",onClick:()=>c("pickup"),className:"p-4 border-2 rounded-xl transition-all ".concat("pickup"===d?"border-angel-gold bg-angel-pink":"border-angel-border hover:border-angel-gold"),children:(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("svg",{className:"w-6 h-6 text-angel-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),(0,o.jsxs)("div",{className:"text-left",children:[(0,o.jsx)("div",{className:"font-semibold text-primary",children:"Retrait en magasin"}),(0,o.jsx)("div",{className:"text-sm text-angel-dark",children:"Gratuit"})]})]})})]}),"delivery"===d&&(0,o.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-semibold text-primary mb-2",children:["Adresse ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("input",{type:"text",name:"address",value:h.address,onChange:b,className:"w-full px-4 py-3 border border-angel-border rounded-xl focus:outline-none focus:ring-2 focus:ring-angel-gold",required:"delivery"===d})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-semibold text-primary mb-2",children:["Ville ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("input",{type:"text",name:"city",value:h.city,onChange:b,className:"w-full px-4 py-3 border border-angel-border rounded-xl focus:outline-none focus:ring-2 focus:ring-angel-gold",required:"delivery"===d})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-semibold text-primary mb-2",children:"Code postal"}),(0,o.jsx)("input",{type:"text",name:"postalCode",value:h.postalCode,onChange:b,className:"w-full px-4 py-3 border border-angel-border rounded-xl focus:outline-none focus:ring-2 focus:ring-angel-gold"})]})]})]}),"pickup"===d&&(0,o.jsx)("div",{className:"mt-4 p-4 bg-angel-light rounded-xl border border-angel-border",children:(0,o.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,o.jsxs)("svg",{className:"w-5 h-5 text-angel-gold flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"font-semibold text-primary",children:"Notre magasin"}),(0,o.jsx)("div",{className:"text-sm text-angel-dark",children:"La Mannouba, Tunis"}),(0,o.jsx)("div",{className:"text-sm text-angel-dark",children:"Horaires: Lun-Sam 9h-18h"})]})]})})]}),(0,o.jsxs)("div",{className:"bg-angel-card rounded-2xl shadow-sm p-6 border border-angel-border",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Mode de paiement"}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("button",{type:"button",onClick:()=>x("whatsapp"),className:"w-full p-4 border-2 rounded-xl transition-all text-left ".concat("whatsapp"===m?"border-angel-gold bg-angel-pink":"border-angel-border hover:border-angel-gold"),children:(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("svg",{className:"w-6 h-6 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.890-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"font-semibold text-primary",children:"Commander par WhatsApp"}),(0,o.jsx)("div",{className:"text-sm text-angel-dark",children:"Confirmation rapide et paiement flexible"})]})]})}),(0,o.jsx)("button",{type:"button",onClick:()=>x("cash"),className:"w-full p-4 border-2 rounded-xl transition-all text-left ".concat("cash"===m?"border-angel-gold bg-angel-pink":"border-angel-border hover:border-angel-gold"),children:(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("svg",{className:"w-6 h-6 text-angel-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"font-semibold text-primary",children:"Paiement \xe0 la livraison"}),(0,o.jsx)("div",{className:"text-sm text-angel-dark",children:"Payez en esp\xe8ces lors de la r\xe9ception"})]})]})}),(0,o.jsx)("button",{type:"button",onClick:()=>x("online"),className:"w-full p-4 border-2 rounded-xl transition-all text-left ".concat("online"===m?"border-angel-gold bg-angel-pink":"border-angel-border hover:border-angel-gold"),children:(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("svg",{className:"w-6 h-6 text-angel-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"font-semibold text-primary",children:"Paiement en ligne"}),(0,o.jsx)("div",{className:"text-sm text-angel-dark",children:"Carte bancaire s\xe9curis\xe9e (Bient\xf4t disponible)"})]})]})})]})]}),(0,o.jsxs)("div",{className:"bg-angel-card rounded-2xl shadow-sm p-6 border border-angel-border",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Notes (optionnel)"}),(0,o.jsx)("textarea",{name:"notes",value:h.notes,onChange:b,rows:4,className:"w-full px-4 py-3 border border-angel-border rounded-xl focus:outline-none focus:ring-2 focus:ring-angel-gold resize-none",placeholder:"Instructions sp\xe9ciales pour votre commande..."})]})]}),(0,o.jsx)("div",{className:"lg:col-span-1",children:(0,o.jsxs)("div",{className:"bg-angel-card rounded-2xl shadow-sm p-6 border border-angel-border sticky top-8",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-primary mb-6",children:"R\xe9sum\xe9"}),(0,o.jsx)("div",{className:"space-y-3 mb-6 max-h-64 overflow-y-auto",children:e.items.map(e=>{var s;return(0,o.jsxs)("div",{className:"flex items-center space-x-3 pb-3 border-b border-angel-border",children:[(0,o.jsx)("div",{className:"flex-shrink-0 w-16 h-16 bg-angel-pink rounded-lg overflow-hidden",children:(null===(s=e.product.images)||void 0===s?void 0:s[0])&&(0,o.jsx)("img",{src:e.product.images[0],alt:e.product.name,className:"w-full h-full object-cover"})}),(0,o.jsxs)("div",{className:"flex-grow",children:[(0,o.jsx)("div",{className:"font-semibold text-sm text-primary",children:e.product.name}),(0,o.jsxs)("div",{className:"text-xs text-angel-dark",children:["Qt\xe9: ",e.quantity]})]}),(0,o.jsxs)("div",{className:"text-sm font-semibold text-primary",children:[(e.product.price*e.quantity).toFixed(2)," TND"]})]},e.id)})}),(0,o.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,o.jsxs)("div",{className:"flex justify-between text-angel-dark",children:[(0,o.jsx)("span",{children:"Sous-total"}),(0,o.jsxs)("span",{children:[s().toFixed(2)," TND"]})]}),(0,o.jsxs)("div",{className:"flex justify-between text-angel-dark",children:[(0,o.jsx)("span",{children:"Livraison"}),(0,o.jsx)("span",{children:0===g?"Gratuit":"".concat(g.toFixed(2)," TND")})]}),(0,o.jsxs)("div",{className:"border-t border-angel-border pt-3 flex justify-between text-lg font-bold text-primary",children:[(0,o.jsx)("span",{children:"Total"}),(0,o.jsxs)("span",{className:"text-angel-gold",children:[u.toFixed(2)," TND"]})]})]}),(0,o.jsx)("button",{type:"submit",className:"w-full bg-angel-gold text-angel-light py-4 rounded-xl hover:bg-primary transition-all font-semibold text-lg shadow-lg hover:shadow-xl",children:"whatsapp"===m?"Commander via WhatsApp":"online"===m?"Payer en ligne":"Confirmer la commande"}),(0,o.jsx)("div",{className:"mt-6 pt-6 border-t border-angel-border",children:(0,o.jsxs)("div",{className:"flex items-center justify-center space-x-4 text-angel-dark text-xs",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,o.jsx)("span",{children:"S\xe9curis\xe9"})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),(0,o.jsx)("span",{children:"Garanti"})]})]})})]})})]})]})})}}}]);
//# sourceMappingURL=647.e1b8f0c4.chunk.js.map