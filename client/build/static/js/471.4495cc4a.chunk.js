"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[471],{471:(e,s,l)=>{l.r(s),l.d(s,{default:()=>o});var r=l(43),a=l(697),t=l(304),n=l(591),i=l(579);const o=()=>{const[e,s]=(0,r.useState)([]),[l,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[x,m]=(0,r.useState)(null),[g,h]=(0,r.useState)("all"),[u,p]=(0,r.useState)("featured"),[b,f]=(0,r.useState)(""),[j,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{d(!0),m(null);const[e,l]=await Promise.all([t.K.getProducts(),t.K.getCategories()]);s(e),o(l)}catch(e){console.error("Erreur lors du chargement:",e),m(e.message)}finally{d(!1)}})()},[]);const N=e.filter(e=>{var s,l;const r="all"===g||(null===(s=e.category)||void 0===s?void 0:s._id)===g||(null===(l=e.category)||void 0===l?void 0:l.slug)===g,a=e.name.toLowerCase().includes(b.toLowerCase())||e.description.toLowerCase().includes(b.toLowerCase());return r&&a}).sort((e,s)=>"price-asc"===u?e.price-s.price:"price-desc"===u?s.price-e.price:"name"===u?e.name.localeCompare(s.name):"featured"===u?(s.featured?1:0)-(e.featured?1:0):0),w={"@context":"https://schema.org","@type":"ItemList",itemListElement:N.map((e,s)=>({"@type":"ListItem",position:s+1,url:"https://angelsbags.netlify.app/product/".concat(e._id),name:e.name,image:e.images&&e.images.length>0?e.images[0]:void 0,description:e.description,offers:{"@type":"Offer",priceCurrency:"TND",price:e.price,availability:e.inStock?"https://schema.org/InStock":"https://schema.org/OutOfStock"}}))};return c?(0,i.jsx)("div",{className:"min-h-screen bg-angel-background flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-angel-border border-t-angel-gold mx-auto mb-4"}),(0,i.jsx)("p",{className:"text-angel-dark font-medium",children:"Chargement de nos cr\xe9ations..."})]})}):x?(0,i.jsx)("div",{className:"min-h-screen bg-angel-background flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("p",{className:"text-angel-dark text-lg mb-4",children:x}),(0,i.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-angel-gold text-white px-6 py-2 rounded-lg hover:bg-primary transition-colors",children:"R\xe9essayer"})]})}):(0,i.jsxs)("div",{className:"min-h-screen bg-angel-background",children:[(0,i.jsx)(n.m,{children:(0,i.jsx)("script",{type:"application/ld+json",children:JSON.stringify(w)})}),(0,i.jsx)("div",{className:"bg-gradient-angel py-16",children:(0,i.jsx)("div",{className:"container mx-auto px-4",children:(0,i.jsxs)("div",{className:"text-center max-w-3xl mx-auto",children:[(0,i.jsx)("h1",{className:"font-tan-pearl text-5xl text-angel-light mb-4",children:"Nos Cr\xe9ations"}),(0,i.jsx)("p",{className:"text-angel-light text-lg opacity-90",children:"D\xe9couvrez notre collection exclusive de sacs artisanaux en perles et cristal. Chaque pi\xe8ce est une \u0153uvre d'art unique, cr\xe9\xe9e avec passion et d\xe9licatesse."})]})})}),(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[(0,i.jsx)("div",{className:"relative flex-1 w-full sm:max-w-md",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("input",{type:"text",value:b,onChange:e=>f(e.target.value),placeholder:"Rechercher un produit...",className:"w-full pl-12 pr-4 py-3 border border-angel-border rounded-xl focus:outline-none focus:ring-2 focus:ring-angel-gold focus:border-angel-gold transition-all bg-white"}),(0,i.jsx)("svg",{className:"w-5 h-5 text-angel-gold absolute left-4 top-1/2 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),(0,i.jsxs)("button",{onClick:()=>v(!j),className:"flex items-center space-x-2 px-6 py-3 border border-angel-border rounded-xl hover:bg-angel-light transition-colors bg-white",children:[(0,i.jsx)("svg",{className:"w-5 h-5 text-angel-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),(0,i.jsx)("span",{className:"text-angel-dark font-medium",children:"Filtres"}),(0,i.jsx)("span",{className:"bg-angel-gold text-white text-xs rounded-full w-6 h-6 flex items-center justify-center",children:N.length})]})]}),j&&(0,i.jsxs)("div",{className:"mt-4 bg-white rounded-xl border border-angel-border p-6 shadow-sm",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold text-angel-dark mb-3",children:"Cat\xe9gorie"}),(0,i.jsxs)("select",{value:g,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 border border-angel-border rounded-lg focus:outline-none focus:ring-2 focus:ring-angel-gold focus:border-angel-gold transition-all bg-white",children:[(0,i.jsx)("option",{value:"all",children:"Toutes les cat\xe9gories"}),l.map(e=>(0,i.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold text-angel-dark mb-3",children:"Trier par"}),(0,i.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"w-full px-4 py-3 border border-angel-border rounded-lg focus:outline-none focus:ring-2 focus:ring-angel-gold focus:border-angel-gold transition-all bg-white",children:[(0,i.jsx)("option",{value:"featured",children:"Populaires"}),(0,i.jsx)("option",{value:"name",children:"Nom (A-Z)"}),(0,i.jsx)("option",{value:"price-asc",children:"Prix croissant"}),(0,i.jsx)("option",{value:"price-desc",children:"Prix d\xe9croissant"})]})]})]}),(b||"all"!==g)&&(0,i.jsx)("div",{className:"mt-4 flex justify-end",children:(0,i.jsxs)("button",{onClick:()=>{f(""),h("all")},className:"text-angel-gold hover:text-primary font-medium text-sm flex items-center space-x-2 transition-colors",children:[(0,i.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,i.jsx)("span",{children:"R\xe9initialiser les filtres"})]})})]})]}),(0,i.jsx)("div",{className:"mb-6",children:(0,i.jsxs)("p",{className:"text-angel-dark",children:[(0,i.jsx)("span",{className:"font-semibold text-primary",children:N.length})," produit",N.length>1?"s":""," trouv\xe9",N.length>1?"s":""]})}),N.length>0?(0,i.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:N.map(e=>(0,i.jsx)("div",{className:"group relative bg-white rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden border border-angel-border hover:border-angel-gold",children:(0,i.jsxs)(a.N_,{to:"/product/".concat(e._id),children:[e.featured&&(0,i.jsx)("div",{className:"absolute top-3 left-3 z-10",children:(0,i.jsxs)("div",{className:"bg-angel-gold text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center space-x-1",children:[(0,i.jsx)("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,i.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,i.jsx)("span",{children:"Populaire"})]})}),(0,i.jsx)("div",{className:"aspect-square bg-angel-pink relative overflow-hidden",children:e.images&&e.images[0]?(0,i.jsx)("img",{src:e.images[0],alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):(0,i.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center text-angel-border",children:[(0,i.jsx)("svg",{className:"w-16 h-16 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),(0,i.jsx)("p",{className:"text-sm",children:e.name})]})})}),(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsx)("h3",{className:"font-semibold text-lg mb-2 text-primary line-clamp-1",children:e.name}),(0,i.jsx)("p",{className:"text-angel-dark text-sm mb-3 line-clamp-2 leading-relaxed",children:e.description}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-baseline space-x-2",children:[(0,i.jsxs)("span",{className:"text-xl font-bold text-primary",children:[e.price.toFixed(2)," TND"]}),e.originalPrice&&(0,i.jsxs)("span",{className:"text-angel-border line-through text-sm",children:[e.originalPrice.toFixed(2)," TND"]})]}),e.inStock?(0,i.jsx)("span",{className:"text-green-600 text-xs font-semibold bg-green-50 px-2 py-1 rounded-full",children:"En stock"}):(0,i.jsx)("span",{className:"text-red-600 text-xs font-semibold bg-red-50 px-2 py-1 rounded-full",children:"\xc9puis\xe9"})]}),e.tags&&e.tags.length>0&&(0,i.jsx)("div",{className:"mt-3 flex flex-wrap gap-1",children:e.tags.slice(0,2).map((e,s)=>(0,i.jsxs)("span",{className:"text-xs bg-angel-pink text-primary px-2 py-1 rounded-full",children:["#",e]},s))})]})]})},e._id))}):(0,i.jsx)("div",{className:"text-center py-16",children:(0,i.jsxs)("div",{className:"bg-white rounded-2xl border border-angel-border p-12 max-w-md mx-auto",children:[(0,i.jsx)("svg",{className:"w-20 h-20 mx-auto mb-6 text-angel-border",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,i.jsx)("h3",{className:"text-xl font-semibold text-primary mb-2",children:"Aucun produit trouv\xe9"}),(0,i.jsx)("p",{className:"text-angel-dark mb-6",children:"Essayez de modifier vos crit\xe8res de recherche"}),(0,i.jsx)("button",{onClick:()=>{f(""),h("all"),v(!1)},className:"bg-angel-gold text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary transition-colors",children:"R\xe9initialiser les filtres"})]})})]})]})}}}]);
//# sourceMappingURL=471.4495cc4a.chunk.js.map